<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualization</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='css/function3.css') }}">
</head>

<body>
    <div class="sidebar">
        <t>
            Function 3: Visualize the interaction between two chains and get the summary of interaction for your chosen
            chain
        </t>
        <p>
            In this page, you can get an interaction map showing the interaction between the two protein chains.<br>
            In the Residue Interaction Map, each dot represents a contact predicted by AlphaFold. The interaction with
            lowest probability will be shown in green. The higher the contact probability is, the yellower it will
            becomes. The x-axis and y-axis represents the No. of residues on each chain.<br>
            The Interaction Count and Sum plot count the number of potential contacts and total interaction probability
            of each residue on your chosen chain. The green broken line represents the number of interactions. The
            orange one represents the total interaction probability. The x-axis shows the No. of residues.<br><br>
        </p>
        <t>
            Instruction
        </t>
        <p>
            Choose the chain you want to get the Interaction Count and Sum plot. The Residue Interaction Map will be the
            same whatever you choose.<br>
            Click `confirm` and wait for your pictures.<br>
            Both pictures can be saved by clicking the two buttons on the bottom.<br>
        </p>
    </div>
    <div class="main-content">
        <h1>Alpha Find</h1>
        <div class="container">
            <div class="back-box">
                <a href="/" class="button">Return to upload page</a>
                <a href="/?action=showMessage" class="button">Return to analysis page</a>
            </div>
            <form method="post" action="/generate_images">
                <div id="chooseChain" class="instruction">
                    The interaction number and total contact probability at different sites of your chosen chain will be
                    showed below.<br>
                    Choose the chain you need to mutate:
                </div>
                <div class="options">
                    <label>
                        <input type="radio" name="chain" value="chainA" onclick="updateContent();">
                        chain A
                    </label>
                    <label>
                        <input type="radio" name="chain" value="chainB" onclick="updateContent();">
                        chain B
                    </label>
                </div>
            </form>
            <button id="confirmButton" class="button">Confirm</button>
        </div>

        <div id="imageContainer" class="imageContainer">
            <h2 id="resultTitle">Bubble map for all interactions & chain interaction count</h2>
            <div id="images" class="imageScroll">
                <img id="bubbleMap" class="hidden" src="" alt="Bubble Map">
                <img id="summary" class="hidden" src="" alt="Interaction Summary">
            </div>
            <button id="downloadBubbleMap" class="button hidden">Download Bubble Map</button>
            <button id="downloadSummary" class="button hidden">Download Summary</button>
        </div>

    </div>

    <script src="{{ url_for('static', filename='js/func3-script.js') }}"></script>

</body>

</html>